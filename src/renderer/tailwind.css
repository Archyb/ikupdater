@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Tokens (accent Apple-ish) ===== */
:root {
  /* Bleu accent macOS/iOS */
  --accent: #0A84FF;
  --accent-600: #0071e3;
  --brand: var(--accent);
}
.dark {
  --accent: #0A84FF; /* mÃªme accent en dark */
  --accent-600: #66A8FF;
}

/* ===== Base ===== */
@layer base {
  html, body { @apply h-full; }
}


/* ===== Components ===== */
@layer components {
	.app-header { @apply flex items-center gap-4 px-8 py-6 border-b border-gray-200 bg-white dark:bg-slate-900 dark:border-slate-700; }
	.brand-title { @apply text-2xl font-bold mr-4; color: var(--brand); }
	.btn { @apply px-4 py-3 rounded-lg border shadow-sm bg-white text-gray-700 dark:bg-slate-900 dark:text-slate-100 dark:border-slate-700 hover:shadow-md transition-all duration-200; }
	.muted { @apply opacity-60 text-sm text-gray-500; }
	.controls { @apply px-8 py-4 border-b bg-gray-50 dark:bg-slate-900 border-gray-200 dark:border-slate-700; }
	.control-row { @apply flex items-center gap-6; }
	/* Avoid @apply grid to prevent circular dependency in Tailwind */
	.grid { display: grid; @apply gap-6; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); }
	.card { @apply border rounded-2xl overflow-hidden bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 shadow-sm hover:shadow-xl transition-all duration-300; }
	.card-header { @apply flex justify-between items-center gap-4 p-6 bg-gray-50 dark:bg-slate-900; }
	.title { @apply text-lg font-semibold text-gray-900 dark:text-slate-100; }
	.subtitle { @apply text-sm text-blue-600 dark:text-blue-400; }
	.path { @apply text-xs text-gray-500; }
	.card-actions { @apply flex gap-3 items-center flex-wrap p-4 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700; }
	.branch { @apply w-44 px-3 py-2 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100; }
	.git-strategy { @apply w-32 px-3 py-2 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100; }
	.log { @apply m-0 p-4 h-48 overflow-auto bg-gray-50 dark:bg-slate-900 text-gray-800 dark:text-indigo-100 font-mono text-sm border-t border-gray-200 dark:border-slate-700; }
	.console { @apply px-8 py-4; }
	.console h2 { @apply m-0 mb-3 text-base font-medium text-gray-600; }

	/* Emphasize Sync and colorize actions */
	.card-actions button[data-action='sync'] { @apply bg-blue-500 text-white border-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:border-blue-600 dark:hover:bg-blue-700; }
	.card-actions button[data-action='git'] { @apply border-blue-500 text-blue-600 hover:bg-blue-50 dark:border-blue-400 dark:text-blue-400 dark:hover:bg-blue-900/20 px-2 py-1 text-sm; }
	.card-actions button[data-action='php'] { @apply border-purple-400 text-purple-600 hover:bg-purple-50 dark:border-purple-400 dark:text-purple-400 dark:hover:bg-purple-900/20 px-2 py-1 text-sm; }
	.card-actions button[data-action='node'] { @apply border-green-400 text-green-600 hover:bg-green-50 dark:border-green-400 dark:text-green-400 dark:hover:bg-green-900/20 px-2 py-1 text-sm; }

	/* Button defaults in header and action zones */
	header button { @apply btn; }
	.card-actions button { @apply btn; }
	.card-actions button[disabled] { @apply opacity-50 cursor-not-allowed; }

	/* Light theme overrides - no dark elements */
	.light .card { @apply bg-white border-gray-200; }
	.light .card-header { @apply bg-gray-50; }
	.light .controls { @apply bg-gray-50; }
	.light button { @apply bg-white text-gray-700 border-gray-300; }
	.light .actions .branch { @apply bg-white text-gray-900 border-gray-300; }
	.light .log { @apply bg-gray-50 text-gray-800; }
}
